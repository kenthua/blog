---
author: Kent Hua
blogger_id: tag:blogger.com,1999:blog-3324719914062696225.post-1470526064682564978
blogger_orig_url: http://blog.kenthua.com/2015/05/jboss-brms-61-realtime-decision-server.html
comments: true
date: "2015-05-22T11:00:00Z"
modified_time: "2015-05-22T11:08:12.280-07:00"
tags: null
title: JBoss BRMS 6.1 Realtime Decision Server (Rule Execution Server) & REST XML
  Payload
---

This is new in 6.1 and a very useful feature for exposing your rule as a service without having to write your own service implementation. &nbsp;Previously one had the option of exposing it as s REST service using RESTEasy, the drools-camel component or other methods. &nbsp;Now there is a built in mechanism to help expose the service while also being able to have some management capabilities. <br /><br />This is exposed via the new kie-server webapp that is now installed with JBoss BRMS 6.1.<br /><br />To get started you build &amp; deploy your rule project, then register your rule server and add the container. &nbsp;When you first start using it, the first question you may wonder is, what is the payload for this new rest service. &nbsp;The message body is unique based on the facts used by the rules. &nbsp;So what does an example XML payload look like?<br /><pre><code class="xml"><br />&lt;batch-execution&gt;<br />  &lt;insert out-identifier="customer" return-object="true" entry-point="DEFAULT"&gt;<br />    &lt;com.redhat.test.brmstest.fact.Customer&gt;<br />      &lt;accountCount&gt;0&lt;/accountCount&gt;<br />      &lt;firstName&gt;John&lt;/firstName&gt;<br />      &lt;lastName&gt;Doe&lt;/lastName&gt;<br />    &lt;/com.redhat.test.brmstest.fact.Customer&gt;<br />  &lt;/insert&gt;<br />  &lt;insert out-identifier="account" return-object="true" entry-point="DEFAULT"&gt;<br />    &lt;com.redhat.test.brmstest.fact.Account&gt;<br />      &lt;balance&gt;100.0&lt;/balance&gt;<br />      &lt;customer reference="../../../insert/com.redhat.test.brmstest.fact.Customer"/&gt;<br />      &lt;number&gt;C-12345&lt;/number&gt;<br />      &lt;type&gt;CHECKING&lt;/type&gt;<br />    &lt;/com.redhat.test.brmstest.fact.Account&gt;<br />  &lt;/insert&gt;<br />  &lt;fire-all-rules/&gt;<br />&lt;/batch-execution&gt;<br /></code></pre><br />I have included an example java class which generates the payload for you based on your fact model. &nbsp;This is in the brms-rule-service project. &nbsp;It uses the command based API of KIE. &nbsp;At the moment only an XML payload is available.<br /><br />My <a href="https://github.com/kenthua/brms-example">brms-example</a> github project includes more details as well as more detailed instructions.<br /><br />This is also available in the superset product JBoss BPM Suite 6.1<br /><br /><br />References:<br />https://access.redhat.com/documentation/en-US/Red_Hat_JBoss_BRMS/6.1/html/User_Guide/chap-The_Realtime_Decision_Server.html<br />https://opensourcebpm.wordpress.com/2015/03/30/jboss-brms-6-1-rule-execution-server/<br /><br />